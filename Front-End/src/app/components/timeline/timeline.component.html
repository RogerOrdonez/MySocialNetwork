<div class="container-fluid">
    <div class="row">
        <div class="col-sm-3">
            <app-sidebar></app-sidebar>
        </div>
        <div class="col-sm-6 timeline">
            <!-- Caja para crear nuevas publicaciones -->
            <div class="col-lg-12 bg-light publication-box">
                <form #newPublication="ngForm" (submit)="onSubmit(newPublication)">
                    <div class="col-lg-12">
                        <textarea class="form-control form-control-sm" name="text" rows="10" #text="ngModel" [(ngModel)]="publication.text" required placeholder="Crea una publicación" rows="3"></textarea>
                    </div>


                    <label for="upload-photo" class="nav-link text-primary" [routerLink]="['/timeline']" routerLinkActive="active active-border">
                                <fa-icon [icon]="faImage"></fa-icon>
                                Agrega una imagen
                            </label>
                    <input type="file" name="photo" id="upload-photo" />
                    <div class="col-lg-12 ml-auto">
                        <input type="submit" value="Publicar" class="btn btn-primary post float-right" [disabled]="!newPublication.valid">
                    </div>
                </form>
            </div>
            <!-- Publicaciones -->
            <div class="publication col-lg-12 bg-light testing" *ngFor="let publication of publications">
                <div class="row publication-row testing">
                    <div class="col-lg-1 publication-user-image bg-light">
                        <img class="img-fluid" *ngIf="publication.user.image" [src]="url + 'get-image-file/' + publication.user.image">
                        <img class="img-fluid" *ngIf="!publication.user.image" src="assets/no_image.jpg">
                    </div>
                    <div class="col-lg-11 bg-light publication-content testing">
                        <p>
                            <strong>{{ publication.user.name + ' ' + publication.user.surname}}</strong>
                            <small> @{{ publication.user.nick }}</small>
                        </p>
                        <p>
                            {{ publication.text }}
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-lg-12 bg-light testing see-more">
                <button class="btn btn-primary btn-sm btn-block" (click)="viewMore()" *ngIf="!noMore">
                    Ver más publicaciones
                </button>
            </div>
        </div>

    </div>
</div>